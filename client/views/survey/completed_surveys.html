<template name="completedSurveys">
    <div class="panel panel-default">
        <div class="panel-heading clearfix">
            <h4 class="pull-left">{{i18n "completedSurveys" }}</h4>
            <div class="visible-xs">
                <select id="completed-survey-search-field" class="form-control">
                    <option value="code">{{i18n "code" }}</option>
                    <option value="name">{{i18n "name" }}</option>
                </select>
            </div>
            <form id="search-surveys-completed-form" class="pull-right form-inline">
                <div class="form-group">
                    <div class="input-group">
                        <input id="search-surveys-completed" type="text" class="form-control" data-form-type="role"
                               aria-label="Search" placeholder="{{i18n "search" }}"/>
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-fab btn-fab-mini">
                                <i class="fa fa-search" data-form-type="search"></i>
                            </button>
                        </span>
                    </div>
                </div>
            </form>
        </div>
        <div class="panel-body">
            <table id="surveys-completed-list" class="table table-striped table-hover">
                <thead>
                <tr class="hidden-xs text-center">
                    <td class="active" data-search-name="code">{{i18n "code" }}</td>
                    <td data-search-name="name">{{i18n "name" }}</td>
                    <td class="disabled">{{i18n "user" }}</td>
                    <td class="disabled">{{i18n "startedDate" }}</td>
                    <td class="disabled">{{i18n "endedDate" }}</td>
                </tr>
                </thead>
                <tbody>
                {{#each completedSurveysList}}
                    <tr class=" {{selectedCompletedSurvey}}">
                        <td>
                            <span class="hidden-xs">{{questionnaire.code}}</span>
                            <div class="visible-xs">
                                <p><strong>{{i18n "code" }}:</strong> {{questionnaire.code}}</p>
                                <p><strong>{{i18n "name" }}:</strong> {{questionnaire.name}}</p>
                                <p><strong>{{i18n "user" }}:</strong> {{user.fullName}}</p>
                                <p><strong>{{i18n "startDate" }}:</strong> {{startDateDisplay}}</p>
                                <p><strong>{{i18n "endDate" }}:</strong> {{endDateDisplay}}</p>
                            </div>
                        </td>
                        <td class="hidden-xs">{{questionnaire.name}}</td>
                        <td class="hidden-xs">{{user.fullName}}</td>
                        <td class="hidden-xs text-center">{{startDateDisplay}}</td>
                        <td class="hidden-xs text-center">{{endDateDisplay}}</td>
                    </tr>
                {{/each}}
                </tbody>
                <tfoot>
                <tr>
                    <td colspan="5">
                        {{> defaultBootstrapPaginator pagination=templatePagination limit=6 containerClass="text-center"}}
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>
        <div class="panel-footer">
            <a id="view-completed-survey" type="button" class="btn btn-sm btn-primary btn-raised" {{canViewSurvey}}>
                <i class="fa fa-list-ol"></i> {{i18n "view" }}
            </a>
            <a id="delete-completed-survey" type="button" class="btn btn-sm btn-danger btn-raised" data-toggle="modal"
               data-target="#delete-survey-modal" {{canViewSurvey}}>
                <i class="fa fa-times"></i> {{i18n "delete" }}
            </a>
        </div>
    </div>
    {{> deleteSurveyModal }}
</template>
