<template name="startSurvey">
    {{#unless surveyStarted}}
        <div class="panel panel-default">
            <div class="panel-heading clearfix">
                <h4 class="pull-left">Start Survey</h4>
                <div class="pull-right form-inline">
                    <div id="search-surveys-to-start" class="input-group">
                        <input id="surveys-to-start" type="text" class="form-control" data-form-type="role" aria-label="Search Survey" placeholder="Search">
                        <span class="input-group-addon"><i class="fa fa-search"></i></span>
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <table id="surveys-list" class="table table-striped table-hover">
                    <thead>
                    <tr>
                        <td>Code</td>
                        <td>Name</td>
                        <td>Description</td>
                        <td>Questions</td>
                    </tr>
                    </thead>
                    <tbody>
                    {{#each surveys}}
                        <tr class="{{isSelected}}">
                            <td>{{code}}</td>
                            <td>{{name}}</td>
                            <td>{{description}}</td>
                            <td class="text-center">{{numberOfQuestions}}</td>
                        </tr>
                    {{/each}}
                    </tbody>
                </table>
            </div>
            <div class="panel-footer text-right">
                <button id="start-survey" class="btn btn-sm btn-success" type="button" {{canStartSurvey}}><i class="fa fa-play"></i> Start</button>
            </div>
        </div>
    {{ else }}
        {{> question}}
    {{/unless}}
</template>

<template name="question">
    {{#with currentQuestion}}
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4>{{orderNumber}}. {{detail}}</h4>
            </div>
            <div class="panel-body">
                {{#if isTypeOpenEnded}}
                    <textarea class="answer form-control" name="answer" rows="5" placeholder="Please provide your answer here"></textarea>
                {{ else }}
                    <div class="answer">
                        {{#if isSingleChoice}}
                            {{#each choices}}
                                {{> radioInput}}
                            {{/each}}
                        {{ else }}
                            {{#each choices}}
                                {{> checkboxInput}}
                            {{/each}}
                        {{/if}}
                    </div>
                {{/if}}
            </div>
            <div class="panel-footer text-right">
                {{#if canNavigateBackward}}
                    <button id="previous-question" class="btn btn-sm  btn-success" type="button"><i class="fa fa-chevron-circle-left"></i> Previous</button>
                {{/if}}
                {{#if canNavigateForward}}
                    <button id="next-question" class="btn btn-sm  btn-success" type="button"><i class="fa fa-chevron-circle-right"></i> Next</button>
                {{/if}}
                {{#if lastQuestion}}
                    <button id="next-question" class="btn btn-sm  btn-success" type="button"><i class="fa fa-check-square-o"></i> Finish</button>
                {{/if}}
            </div>
        </div>
    {{/with}}
</template>

<template name="radioInput">
    <div class="radio radio-primary">
        <label>
            <input type="radio" name="answer" id="answer" value="{{name}}" />
            {{orderNumber}}. {{name}}
        </label>
    </div>
</template>

<template name="checkboxInput">
    <div class="checkbox checkbox-primary">
        <label>
            <input type="checkbox" name="answer" id="answer" value="{{name}}" />
            {{orderNumber}}. {{name}}
        </label>
    </div>
</template>